	<!DOCTYPE html>
	<html lang="fr">
	<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Fractales du Monde: Reflets d'Ã‚mes</title>
	<style>
/* ğŸŒ GÃ©nÃ©ral */
body {
  font-family: Arial, sans-serif;
  line-height: 1.6;
  margin: 0;
  padding: 0;
  background-color: #f4f4f4;
  color: #333;
}
h1, h2, h3 {
  color: #444;
}
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ğŸ“¦ Conteneurs principaux */
header, section, footer {
  margin: 20px;
  padding: 20px;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* ğŸ“Œ Navigation */
.nav-btn {
  background-color: #fff3e0;
  color: #FF6600;
  padding: 8px 14px;
  border-radius: 20px;
  font-weight: bold;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(255, 165, 0, 0.3);
  transition: all 0.3s ease;
}
.nav-btn:hover {
  background-color: #ffe0b2;
  box-shadow: 0 0 12px rgba(255, 140, 0, 0.6);
  transform: scale(1.05);
}
.nav-btn.retour {
  background-color: #e6f7ff;
  color: #007BFF;
}

.retour-carte {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.retour-epilogue {
  display: flex;
  justify-content: center;
  margin: 30px auto;
}

.nav-btn.epilogue {
  background-color: #f0f8ff;
  color: #6a5acd;
  padding: 10px 18px;
  border-radius: 20px;
  font-weight: bold;
  text-decoration: none;
  font-size: 1.1em;
  box-shadow: 0 0 8px rgba(106, 90, 205, 0.2);
  transition: all 0.4s ease;
}
.nav-btn.epilogue:hover {
  background-color: #e6e6fa;
  box-shadow: 0 0 12px rgba(106, 90, 205, 0.4);
  transform: scale(1.05);
}

/* ğŸ“ Liens et effets */
a {
  color: #007BFF;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* ğŸ”— Liens dans les titres */
h2 a {
  font-size: 0.8em;
  margin-left: 12px;
  color: #FF6600;
  background-color: #fff3e0;
  padding: 4px 8px;
  border-radius: 6px;
  text-decoration: none;
  box-shadow: 0 0 3px rgba(255, 165, 0, 0.5);
  transition: all 0.3s ease;
}
h2 a:hover {
  background-color: #ffe0b2;
  box-shadow: 0 0 8px rgba(255, 140, 0, 0.7);
  text-decoration: underline;
}

/* ğŸ“‹ Tables */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 16px;
}
th, td {
  padding: 10px 14px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}
th {
  background-color: #fafafa;
  color: #333;
  font-weight: bold;
  border-top: 2px solid #ccc;
}
tbody tr:hover {
  background-color: #f5f5f5;
}
td a {
  font-weight: 500;
}

.table-image-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  align-items: flex-start;
}
.table-image-container table,
.table-image-container img {
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}
.table-image-container table {
  flex: 1;
  min-width: 260px;
}

/* ğŸ—ºï¸ Carte interactive */
.carte-container {
  max-width: 600px;
  width: 100%;
  margin: auto;
}
.carte-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 2 / 3;
  background-color: #eee;
}
.carte-wrapper img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  z-index: 0;
}

.carte-point {
  position: absolute;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  border: 2px solid white;
  cursor: pointer;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.4);
  z-index: 1;
}
.carte-point.hampi     { top: 81.1%; left: 68.3%; background-color: crimson; box-shadow: 0 0 12px rgba(255, 0, 0, 0.6); }
.carte-point.perou     { top: 87.8%; left: 25.0%; background-color: blue;    box-shadow: 0 0 12px rgba(0, 0, 255, 0.6); }
.carte-point.flores    { top: 87.8%; left: 81.7%; background-color: green;   box-shadow: 0 0 12px rgba(0, 255, 0, 0.6); }
.carte-point.bali      { top: 87.8%; left: 80.0%; background-color: orange;  box-shadow: 0 0 12px rgba(255, 165, 0, 0.6); }

.carte-point.highlight {
  animation: pulseHighlight 1s ease-out;
  box-shadow: 0 0 12px 6px rgba(255, 165, 0, 0.6);
}

/* ğŸ–¼ï¸ Zones interactives */
.debug-zone {
  position: absolute;
  border-radius: 8px;
  pointer-events: auto;
  transition: all 0.3s ease;
  z-index: 0;
}
.debug-zone:hover {
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  transform: scale(1.1);
}
.debug-zone.hampi  { top: 28.9%; left: 6.7%;  width: 20%; height: 36.7%; background-color: rgba(255, 0, 0, 0.3); }
.debug-zone.perou  { top: 28.9%; left: 28.3%; width: 20%; height: 36.7%; background-color: rgba(0, 0, 255, 0.3); }
.debug-zone.flores { top: 28.9%; left: 51.7%; width: 20%; height: 36.7%; background-color: rgba(0, 255, 0, 0.3); }
.debug-zone.bali   { top: 28.9%; left: 73.3%; width: 20%; height: 36.7%; background-color: rgba(255, 165, 0, 0.3); }

.debug-zone.highlight {
  box-shadow: 0 0 12px 6px rgba(255,165,0,0.6);
  outline: 2px solid rgba(255,165,0,0.8);
  animation: pulseZone 1s ease-out;
}

/* ğŸï¸ Animations */
@keyframes pulseHighlight {
  0%   { box-shadow: 0 0 0 rgba(255, 165, 0, 0); transform: scale(1); }
  50%  { box-shadow: 0 0 12px 6px rgba(255, 165, 0, 0.6); transform: scale(1.2); }
  100% { box-shadow: 0 0 0 rgba(255, 165, 0, 0); transform: scale(1); }
}
@keyframes pulseZone {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* ğŸ“š Sommaire exposition */
.sommaire-exposition {
  padding-left: 0;
}
.sommaire-exposition ul {
  list-style: none;
}
.sommaire-exposition li {
  margin-bottom: 10px;
}
.sommaire-exposition h3 {
  margin-top: 20px;
  margin-bottom: 8px;
  font-size: 1.2em;
  color: #FF6600;
}
.sommaire-exposition ul ul {
  margin-left: 20px;
}

/* âœ¨ Salles */
.sommaire-exposition .salle-1,
.sommaire-exposition .salle-2,
.sommaire-exposition .salle-3,
.sommaire-exposition .salle-4 {
  padding: 10px;
  border-radius: 8px;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}
.salle-1  { background-color: #FFE6F5; }
.salle-1:hover {
  background-color: #FFD1E8;
  box-shadow: 0 0 12px rgba(255, 0, 255, 0.6);
}
.salle-2 {
  background-color: #FFF4E5;
}
.salle-2:hover {
  background-color: #FFEAC2;
  box-shadow: 0 0 12px rgba(255, 165, 0, 0.6);
}
.salle-3 {
  background-color: #F0FAF2;
}
.salle-3:hover {
  background-color: #D6F5DD;
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.4);
}
.salle-4 {
  background-color: #EEF5FF;
}
.salle-4:hover {
  background-color: #D3E7FF;
  box-shadow: 0 0 12px rgba(0, 0, 255, 0.4);
}

/* RÃ¨gles spÃ©cifiques pour petits Ã©crans */
@media screen and (max-width: 600px) {

  .navigation-salles {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px; /* espacement entre les boutons */
    margin-top: 20px;
  }
  
  .retour-carte {
    flex-direction: column;
    align-items: center;
  }

  .nav-btn {
    width: 100%;
    box-sizing: border-box;
    font-size: 1.1em;
    padding: 12px 16px;
    text-align: center;
  }

  .retour-carte a + a {
    margin-top: 12px;
  }
}

.cloture {
  animation: douceurFinale 5s infinite;
}

@keyframes douceurFinale {
  0% { box-shadow: none; }
  50% { box-shadow: 0 0 12px rgba(106, 90, 205, 0.3); }
  100% { box-shadow: none; }
}

</style>
</head>
<body>

  <!-- ğŸ¨ En-tÃªte de l'exposition -->
  <header class="entree-exposition">
    <h1>ğŸ–¼ï¸ Fractales du Mondeâ€¯: Reflets d'Ã‚mes</h1>
    <blockquote>
      <p>â€œBienvenue dans une exposition oÃ¹ chaque image est une porte,<br />
      chaque spirale un souffle,<br />
      et chaque pixel une mÃ©moire.â€</p>
    </blockquote>
    <div class="retour-carte">
      <a href="#introduction" class="nav-btn retour" title="Commencer le voyage poÃ©tique">âœ¨ Entrer dans lâ€™exposition</a>
    </div>
  </header>

  <!-- ğŸŒŒ Introduction poÃ©tique -->
  <section id="introduction" class="introduction">
    <h2>ğŸ–¼ï¸ Prologue sensible â€“ Introduction poÃ©tique</h2>
    <blockquote>
      <p>â€œFermez les yeuxâ€¦ et ouvrez lâ€™Ã¢me. Vous entrez dans un monde oÃ¹ les frontiÃ¨res se dissolvent.
      Ici, chaque image est un souffle, chaque spirale une mÃ©moireâ€¦â€</p>
    </blockquote>
    <div class="retour-carte">
      <a href="#carte" class="nav-btn retour">ğŸ—ºï¸ AccÃ©der Ã  la carte interactive</a>
      <a href="#sommaire" class="nav-btn sommaire">ğŸ“š AccÃ©der au sommaire de l'exposition</a>
    </div>
  </section>

  <!-- ğŸ“š Sommaire narratif -->
  <section id="sommaire" class="sommaire-exposition">
    <h2>ğŸ“š Sommaire de l'exposition</h2>
    <div class="retour-carte">
      <a href="#carte" class="nav-btn retour">ğŸ—ºï¸ AccÃ©der Ã  la carte interactive</a>
    </div>

    <!-- Les salles -->
    <div class="salle-1">
      <h3>ğŸ‡®ğŸ‡³ <strong>Salle 1 â€” MarchÃ© Ã  Hampi</strong></h3>
      <ul class="liste-Ã©lÃ©ments">
        <li>âœ¨ Char mystique de Hampi</li>
        <li>ğŸŒˆ Mandalas et Ã©toffes ondulantes</li>
        <li>ğŸ¶ Piliers musicaux â€”
          <a href="https://www.youtube.com/watch?v=UOFoQ70m6Z8" target="_blank">Ã‰couter</a>
        </li>
        <li>ğŸ›ï¸ Ruines de Hampi â€”
          <a href="https://www.youtube.com/watch?v=ChchmDc_OhI" target="_blank">DÃ©couvrir</a>
        </li>
        <li>ğŸ™ï¸ Narration immersive â€”
          <a href="https://www.youtube.com/watch?v=tMjVqBzSnGs" target="_blank">Explorer</a>
        </li>
      </ul>
    </div>

    <div class="salle-2">
      <h3>ğŸŒº <strong>Salle 2 â€” Bali la belle Ã®le</strong></h3>
      <ul class="liste-Ã©lÃ©ments">
        <li>ğŸŒ¾ RiziÃ¨res sacrÃ©es et offrandes</li>
        <li>ğŸ•‰ï¸ Temples hindous et spirales d'encens</li>
        <li>ğŸ¶ Gamelan â€”
          <a href="https://www.routard.com/fr/photo/p/345-bali" target="_blank">Ã‰couter</a>
        </li>
        <li>ğŸ›ï¸ Visite immersive â€”
          <a href="https://www.visitonsbali.com/photos" target="_blank">DÃ©couvrir</a>
        </li>
        <li>ğŸ™ï¸ Sons de priÃ¨re â€”
          <a href="https://www.okvoyage.com/post/paysages-bali/" target="_blank">Explorer</a>
        </li>
      </ul>
    </div>

    <div class="salle-3">
      <h3>ğŸŒ¾ <strong>Salle 3 â€” Fleurs de riziÃ¨res</strong></h3>
      <ul class="liste-Ã©lÃ©ments">
        <li>ğŸŒ¸ Terrasses de riz en pÃ©tales</li>
        <li>ğŸ’§ Spirales vÃ©gÃ©tales et lumiÃ¨re aquatique</li>
        <li>ğŸ¶ Berceuse â€”
          <a href="https://munki.audio/catalogue/albums/410/artistes-divers--comptines-et-berceuses-des-rizieres" target="_blank">Ã‰couter</a>
        </li>
        <li>ğŸ›ï¸ Musique nÃ©oclassique â€”
          <a href="https://soundcloud.com/julien-boulier/episodes-rizieres-by-julien" target="_blank">DÃ©couvrir</a>
        </li>
        <li>ğŸŒ¾ Ambiance champÃªtre â€”
          <a href="https://www.youtube.com/watch?v=jKxOceVX9wk" target="_blank">Explorer</a>
        </li>
      </ul>
    </div>

    <div class="salle-4">
      <h3>ğŸ”ï¸ <strong>Salle 4 â€” Salines Amazoniennes</strong></h3>
      <ul class="liste-Ã©lÃ©ments">
        <li>âœ¨ Terrasses de sel</li>
        <li>ğŸŒŠ MÃ©moire minÃ©rale</li>
        <li>ğŸ¶ Chants amazoniens â€”
          <a href="https://www.youtube.com/watch?v=jm4lKVxihI4" target="_blank">Ã‰couter</a>
        </li>
        <li>ğŸ›ï¸ ForÃªt & riviÃ¨res â€”
          <a href="https://www.youtube.com/watch?v=go7GM3N6kqY" target="_blank">DÃ©couvrir</a>
        </li>
        <li>ğŸ¶ Icaro chamanique â€”
          <a href="https://www.youtube.com/watch?v=LDgR8ffFzBo" target="_blank">Ã‰couter</a>
        </li>
      </ul>
    </div>
  </section>

  <!-- ğŸ—º Carte interactive -->
  <section id="carte" class="interactive-map">
    <h2>ğŸ—ºï¸ Carte interactive</h2>
    <div class="retour-carte">
      <a href="#sommaire" class="nav-btn sommaire">ğŸ“š Voir le sommaire</a>
    </div>

    <div class="carte-container">
      <div class="carte-wrapper">
        <img src="carte-interactive.jpg" alt="Carte illustrÃ©e des salles de lâ€™exposition" usemap="#map-salles" />

        <!-- Zones & Points -->
        <a href="#hampi" class="debug-zone hampi" title="Salle 1 â€“ Hampi"></a>
        <a href="#perou" class="debug-zone perou" title="Salle 4 â€“ PÃ©rou"></a>
        <a href="#flores" class="debug-zone flores" title="Salle 3 â€“ FlorÃ¨s"></a>
        <a href="#bali" class="debug-zone bali" title="Salle 2 â€“ Bali"></a>

        <a href="#hampi" class="carte-point hampi" title="Hampi"></a>
        <a href="#bali" class="carte-point bali" title="Bali"></a>
        <a href="#flores" class="carte-point flores" title="FlorÃ¨s"></a>
        <a href="#perou" class="carte-point perou" title="PÃ©rou"></a>
      </div>
    </div>
  </section>

  <!-- ğŸ–¼ Sections dâ€™exposition dÃ©taillÃ©es -->
  
  <!-- Salle Hampi -->
  <section id="hampi">
  <h2>ğŸ›ï¸ Salle 1 â€” MarchÃ© Ã  Hampi</h2>
  <div class="navigation-salles">
    <a href="#bali" class="nav-btn suivante">Salle suivante â†’</a>
    <a href="#carte" class="nav-btn retour">Retour Ã  la carte</a>
  </div>

  <div class="table-image-container">
    <img src="Hampi.jpg" alt="Char mystique de Hampi" />

    <table>
      <thead>
        <tr>
          <th>Ã‰lÃ©ment</th>
          <th>Lien</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Piliers musicaux du temple Vithala</td>
          <td>ğŸ¶ <a href="https://www.youtube.com/watch?v=UOFoQ70m6Z8" target="_blank" rel="noopener noreferrer">Ã‰couter</a></td>
        </tr>
        <tr>
          <td>Ambiance ruines de Hampi</td>
          <td>ğŸ›ï¸ <a href="https://www.youtube.com/watch?v=ChchmDc_OhI" target="_blank" rel="noopener noreferrer">DÃ©couvrir</a></td>
        </tr>
        <tr>
          <td>Narration historique immersive</td>
          <td>ğŸ™ï¸ <a href="https://www.youtube.com/watch?v=tMjVqBzSnGs" target="_blank" rel="noopener noreferrer">Explorer</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Salle Bali -->
 <section id="bali">
  <h2>ğŸŒº Salle 2 â€” Bali la belle Ã®le</h2>
  <div class="navigation-salles">
    <a href="#hampi" class="nav-btn precedent">â† Salle prÃ©cÃ©dente</a>
    <a href="#flores" class="nav-btn suivante">Salle suivante â†’</a>
    <a href="#carte" class="nav-btn retour">Retour Ã  la carte</a>
  </div>

  <div class="table-image-container">
    <img src="Bali.jpg" alt="Paysage spirituel balinais : riziÃ¨res et mandalas" />

    <table>
      <thead>
        <tr>
          <th>Ã‰lÃ©ment</th>
          <th>Lien</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Gamelan balinais & sons de cÃ©rÃ©monie</td>
          <td>ğŸ¶ <a href="https://www.routard.com/fr/photo/p/345-bali" target="_blank" rel="noopener noreferrer">Ã‰couter</a></td>
        </tr>
        <tr>
          <td>Visite immersive de Bali</td>
          <td>ğŸ›ï¸ <a href="https://www.visitonsbali.com/photos" target="_blank" rel="noopener noreferrer">DÃ©couvrir</a></td>
        </tr>
        <tr>
          <td>Sons de priÃ¨re et offrandes</td>
          <td>ğŸ™ï¸ <a href="https://www.okvoyage.com/post/paysages-bali/" target="_blank" rel="noopener noreferrer">Explorer</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- Salle FlorÃ¨s -->
<section id="flores">
  <h2>ğŸŒ¾ Salle 3 â€” Fleurs de riziÃ¨res</h2>
  <div class="navigation-salles">
    <a href="#bali" class="nav-btn precedent">â† Salle prÃ©cÃ©dente</a>
    <a href="#perou" class="nav-btn suivante">Salle suivante â†’</a>
    <a href="#carte" class="nav-btn retour">Retour Ã  la carte</a>
  </div>

  <div class="table-image-container">
    <img src="Flores.jpg" alt="Terrasses de riz en fleurs Ã  FlorÃ¨s" />

    <table>
      <thead>
        <tr>
          <th>Ã‰lÃ©ment</th>
          <th>Lien</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Berceuse des riziÃ¨res</td>
          <td>ğŸ¶ <a href="https://munki.audio/catalogue/albums/410/artistes-divers--comptines-et-berceuses-des-rizieres" target="_blank" rel="noopener noreferrer">Ã‰couter</a></td>
        </tr>
        <tr>
          <td>Musique nÃ©oclassique inspirÃ©e du riz</td>
          <td>ğŸ›ï¸ <a href="https://soundcloud.com/julien-boulier/episodes-rizieres-by-julien" target="_blank" rel="noopener noreferrer">DÃ©couvrir</a></td>
        </tr>
        <tr>
          <td>Ambiance matinale dans les champs</td>
          <td>ğŸŒ¾ <a href="https://www.youtube.com/watch?v=jKxOceVX9wk" target="_blank" rel="noopener noreferrer">Explorer</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>


<!-- Salle PÃ©rou -->
<section id="perou">
  <h2>ğŸ”ï¸ Salle 4 â€” Salines fractales</h2>
  <div class="navigation-salles">
    <a href="#flores" class="nav-btn precedent">â† Salle prÃ©cÃ©dente</a>
    <a href="#carte" class="nav-btn retour">Retour Ã  la carte</a>
  </div>

  <div class="table-image-container">
    <img src="Perou.jpg" alt="Salines fractales pÃ©ruviennes" />

    <table>
      <thead>
        <tr>
          <th>Ã‰lÃ©ment</th>
          <th>Lien</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Chants traditionnels amazoniens</td>
          <td>ğŸ¶ <a href="https://www.youtube.com/watch?v=jm4lKVxihI4" target="_blank" rel="noopener noreferrer">Ã‰couter</a></td>
        </tr>
        <tr>
          <td>Ambiance forÃªt & riviÃ¨res</td>
          <td>ğŸ›ï¸ <a href="https://www.youtube.com/watch?v=go7GM3N6kqY" target="_blank" rel="noopener noreferrer">DÃ©couvrir</a></td>
        </tr>
        <tr>
          <td>Icaro sacrÃ© â€” chant chamanique amazonien</td>
          <td>ğŸ¶ <a href="https://www.youtube.com/watch?v=LDgR8ffFzBo" target="_blank" rel="noopener noreferrer">Ã‰couter</a></td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="retour-epilogue">
	  <a href="#cloture" class="nav-btn epilogue" title="Lire lâ€™Ã©pilogue poÃ©tique">ğŸŒŒ Fin du voyage</a>
	</div>

</section>

	<!-- ğŸ“ Zone dâ€™affichage des coordonnÃ©es -->
    <!--div id="coordinates" style="
      margin-top: 12px;
      background-color: #fff7e6;
      padding: 8px 12px;
      border-left: 4px solid #FF6600;
      border-radius: 6px;
      font-family: monospace;
      font-size: 0.9em;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 320px;">
      Position de la souris : X = 0, Y = 0
    </div>
	
	<div id="window-counter" style="margin:12px 0; font-family:monospace; color:#007BFF;"></div>

	<div id="console-log" style="background:#000; color:#0f0; padding:10px; font-family:monospace; font-size:0.9em; margin:20px; border-radius:6px;">
	  <strong>Console interne</strong><br>
	</div>
	
	<button onclick="resetOpenedLinks()" style="
	  margin-top: 12px;
	  padding: 8px 16px;
	  background-color: #444;
	  color: #fff;
	  border: none;
	  border-radius: 6px;
	  font-family: monospace;
	  cursor: pointer;">
	  ğŸ”„ RÃ©initialiser les onglets ouverts
	</button>-->
	
<footer>
  <section id="cloture" class="cloture">
    <h2>ğŸ–¼ï¸ Ã‰pilogue contemplatif â€“ ClÃ´ture de la visite</h2>
    <blockquote>
      <p>
        â€œEt maintenant, vous quittez le monde des formesâ€¦ mais peut-Ãªtre avec un peu plus dâ€™Ã¢me en vous.<br />
        Souvenez-vous : ce voyage nâ€™Ã©tait pas dans les images, mais dans ce quâ€™elles Ã©veillent.<br />
        Merci dâ€™avoir marchÃ© dans les spirales du monde.â€
      </p>
    </blockquote>
  </section>
</footer>

	
<script>
  // ğŸ”§ Fonctions utilitaires
  const openedLinks = new Set();
  let windowCounter = 0;

  function logMessage(msg) {
    const logDiv = document.getElementById("console-log");
    if (logDiv) logDiv.innerHTML += msg + "<br>";
  }

  function updateWindowCounter() {
    const counterDiv = document.getElementById("window-counter");
    if (counterDiv) counterDiv.textContent = `ğŸªŸ FenÃªtres ouvertes : ${windowCounter}`;
  }

  function resetOpenedLinks() {
    openedLinks.clear();
    windowCounter = 0;
    updateWindowCounter();
    logMessage("ğŸ”„ Liste des onglets rÃ©initialisÃ©e");
  }

  // ğŸ–±ï¸ Position souris
  document.addEventListener("mousemove", event => {
    const x = event.clientX;
    const y = event.clientY;
    const coordDiv = document.getElementById("coordinates");
    if (coordDiv) coordDiv.textContent = `Position de la souris : X = ${x}, Y = ${y}`;
  });

  // ğŸŒ Liens externes
  document.querySelectorAll('a[target="_blank"]').forEach(link => {
    link.addEventListener("click", e => {
      const url = link.href;
      if (!openedLinks.has(url)) {
        openedLinks.add(url);
        windowCounter++;
        updateWindowCounter();
        logMessage(`ğŸªŸ Onglet ouvert : ${url}`);
      } else {
        e.preventDefault();
        logMessage(`ğŸ” Onglet dÃ©jÃ  ouvert : ${url}`);
      }
    });
  });

  // ğŸ¯ Navigation interactive
  document.addEventListener("DOMContentLoaded", () => {
    const handleNavigation = (sourceClass, type) => {
      const targetClass = Array.from(sourceClass.classList).find(cls => cls !== type);
      const highlightTarget = document.querySelector(`.${type === 'debug-zone' ? 'carte-point' : 'debug-zone'}.${targetClass}`);
      const scrollTarget = document.querySelector(`#${targetClass}`);

      if (highlightTarget) {
        highlightTarget.classList.add("highlight");
        setTimeout(() => highlightTarget.classList.remove("highlight"), 1000);
      }

      if (scrollTarget) {
        setTimeout(() => scrollTarget.scrollIntoView({ behavior: "smooth" }), 500);
      }
    };

    document.querySelectorAll(".debug-zone").forEach(zone =>
      zone.addEventListener("click", e => {
        e.preventDefault();
        handleNavigation(zone, "debug-zone");
      })
    );

    document.querySelectorAll(".carte-point").forEach(point =>
      point.addEventListener("click", e => {
        e.preventDefault();
        handleNavigation(point, "carte-point");
      })
    );
  });
</script>

</body>
</html>